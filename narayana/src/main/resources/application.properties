# Quarkus HTTP
quarkus.http.port=8093

# Disable Dev Services (prevents Testcontainers/Docker usage for a default datasource)
quarkus.datasource.devservices.enabled=false

# Inventory Database (XA, in-memory) with schema init
quarkus.datasource.inventory.db-kind=h2
quarkus.datasource.inventory.jdbc.url=jdbc:h2:mem:inventorydb;DB_CLOSE_DELAY=-1;INIT=RUNSCRIPT FROM 'classpath:sql/init-inventory.sql'
quarkus.datasource.inventory.username=sa
quarkus.datasource.inventory.jdbc.transactions=xa

# Orders Database (XA, in-memory) with schema init
quarkus.datasource.orders.db-kind=h2
quarkus.datasource.orders.jdbc.url=jdbc:h2:mem:ordersdb;DB_CLOSE_DELAY=-1;INIT=RUNSCRIPT FROM 'classpath:sql/init-orders.sql'
quarkus.datasource.orders.username=sa
quarkus.datasource.orders.jdbc.transactions=xa

# Hibernate ORM per persistence unit (no auto DDL, validate optional)
quarkus.hibernate-orm.inventory.datasource=inventory
quarkus.hibernate-orm.inventory.packages=entity.inv
quarkus.hibernate-orm.inventory.database.generation=none
# Optional: validate mapped tables exist
# quarkus.hibernate-orm.inventory.sql-load-script=no-file
# quarkus.hibernate-orm.inventory.sql-load-script=import-inventory.sql

quarkus.hibernate-orm.orders.datasource=orders
quarkus.hibernate-orm.orders.packages=entity.ord
quarkus.hibernate-orm.orders.database.generation=none
# quarkus.hibernate-orm.orders.sql-load-script=no-file

# Narayana recovery
quarkus.transaction-manager.enable-recovery=true

# Disable dev-mode schema validation noise across PUs
quarkus.hibernate-orm.validate-in-dev-mode=false

# ini
quarkus.devservices.enabled=false

# H2 Web Console runtime toggle and port
h2.console.enabled=true
h2.console.port=9092

